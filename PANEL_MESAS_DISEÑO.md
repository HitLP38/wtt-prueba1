# ğŸ¨ DiseÃ±o del Panel de Mesas

## ğŸ“± Vista del Panel de Mesas

### **Estructura Visual**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Panel de Mesas                                    [ğŸ” Buscar] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚          â”‚
â”‚  â”‚  1   â”‚  â”‚  2   â”‚  â”‚  3   â”‚  â”‚  4   â”‚  â”‚  5   â”‚          â”‚
â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚          â”‚
â”‚  â”‚ ğŸŸ¢   â”‚  â”‚ ğŸŸ¡   â”‚  â”‚ ğŸ”´   â”‚  â”‚ âšª   â”‚  â”‚ ğŸŸ¢   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚  â”‚ Mesa â”‚          â”‚
â”‚  â”‚  6   â”‚  â”‚  7   â”‚  â”‚  8   â”‚  â”‚  9   â”‚  â”‚  10  â”‚          â”‚
â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚  â”‚      â”‚          â”‚
â”‚  â”‚ ğŸŸ¡   â”‚  â”‚ ğŸ”´   â”‚  â”‚ ğŸŸ¢   â”‚  â”‚ ğŸŸ¡   â”‚  â”‚ âšª   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                               â”‚
â”‚                          Â« â€¹ 1 2 3 4 5 â€º Â»                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Colores y Estados**

| Color | Estado | DescripciÃ³n | AcciÃ³n |
|-------|--------|-------------|--------|
| ğŸŸ¢ Verde | Disponible | Mesa libre, sin partidos | Puede asignarse |
| ğŸŸ¡ Amarillo | En Progreso | Mesa con partido activo | Monitorear |
| ğŸ”´ Rojo | Atrasada | Mesa retrasada en serie | Considerar desdoblamiento |
| âšª Gris | Bloqueada | Mesa ocupada por Ã¡rbitro | No disponible |
| âš« Negro | Mantenimiento | Mesa fuera de servicio | No usar |

### **InformaciÃ³n en cada Card de Mesa**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Mesa 3            â”‚
â”‚                     â”‚
â”‚   ğŸ”´ ATRASADA       â”‚
â”‚                     â”‚
â”‚   Progreso: 40%     â”‚
â”‚   Partidos: 4/6     â”‚
â”‚   Tiempo: +15 min   â”‚
â”‚                     â”‚
â”‚   [Ver Detalles]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Flujo de Login y Acceso

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Ãrbitro inicia sesiÃ³n               â”‚
â”‚     â†’ Clerk Authentication              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Verifica permisos por evento        â”‚
â”‚     â†’ EventReferee.isEnabled = true?    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Muestra eventos accesibles          â”‚
â”‚     â†’ Solo eventos habilitados          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Selecciona evento                   â”‚
â”‚     â†’ Panel de mesas del evento         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Flujo de Bloqueo de Mesa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ãrbitro ve mesa disponible (ğŸŸ¢)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Clic en "Bloquear Mesa"                â”‚
â”‚  â†’ TableLock creado                     â”‚
â”‚  â†’ Table.status = LOCKED                â”‚
â”‚  â†’ Table.lockedByRefereeId = Ã¡rbitro    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mesa muestra estado âšª BLOQUEADA        â”‚
â”‚  â†’ Otros Ã¡rbitros no pueden usarla      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ãrbitro ve sus partidos asignados      â”‚
â”‚  â†’ Lista de encuentros                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Sistema de Desdoblamiento

### **DetecciÃ³n AutomÃ¡tica**

```
Serie con 4 equipos = 6 partidos totales

Mesa 1: âœ…âœ…âœ…âœ…âœ…âœ… (6/6 completados) â†’ ğŸŸ¢ DISPONIBLE
Mesa 2: âœ…âœ…â³â³â³â³ (2/6 completados) â†’ ğŸ”´ ATRASADA

Sistema detecta:
- Mesa 1: 100% completada
- Mesa 2: 33% completada (esperado 50%)
- Diferencia: 17% de retraso

â†’ SUGERENCIA: Desdoblar Mesa 2 con Mesa 1
```

### **AplicaciÃ³n de Desdoblamiento**

```
ANTES:
Mesa 2: Partido 3, 4, 5, 6 (pendientes)

DESPUÃ‰S:
Mesa 1: Partido 3, 5 (2 partidos)
Mesa 2: Partido 4, 6 (2 partidos)

Resultado:
- Mesa 1 y Mesa 2 trabajando simultÃ¡neamente
- Tiempo estimado reducido a la mitad
- Serie se completa mÃ¡s rÃ¡pido
```

---

## ğŸ“Š Panel de Administrador

### **Vista General**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Panel de Administrador                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  EstadÃ­sticas:                                          â”‚
â”‚  ğŸŸ¢ Disponibles: 3  ğŸŸ¡ En Progreso: 5  ğŸ”´ Atrasadas: 2 â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Mesas del Evento                                  â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚  [Grid de mesas con colores]                      â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  Alertas:                                               â”‚
â”‚  âš ï¸  Mesa 3 estÃ¡ atrasada - Considerar desdoblamiento  â”‚
â”‚  â„¹ï¸  Mesa 7 bloqueada por Ãrbitro Juan PÃ©rez           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **GestiÃ³n de Ãrbitros**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gestionar Ãrbitros - Evento: Confraternidad UNI       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Lista de Ãrbitros:                                     â”‚
â”‚                                                          â”‚
â”‚  âœ… Juan PÃ©rez          [Deshabilitar]  Notas: ...      â”‚
â”‚  âœ… MarÃ­a GonzÃ¡lez      [Deshabilitar]  Notas: ...      â”‚
â”‚  âŒ Carlos RodrÃ­guez    [Habilitar]     Notas: ...      â”‚
â”‚  âœ… Ana MartÃ­nez        [Deshabilitar]  Notas: ...      â”‚
â”‚                                                          â”‚
â”‚  [Agregar Ãrbitro]                                      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ConfiguraciÃ³n de Evento**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConfiguraciÃ³n del Evento                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Sets por Encuentro:                                    â”‚
â”‚  âš™ï¸  Default: Al mejor de [5] sets                      â”‚
â”‚  âš™ï¸  Final: Al mejor de [7] sets                        â”‚
â”‚                                                          â”‚
â”‚  Excepciones por CategorÃ­a:                             â”‚
â”‚  â€¢ Masculino: Al mejor de 5 sets                        â”‚
â”‚  â€¢ Femenino: Al mejor de 5 sets                         â”‚
â”‚  â€¢ Mixto: Al mejor de 5 sets                            â”‚
â”‚                                                          â”‚
â”‚  âœ… Permitir desdoblamiento de mesas                    â”‚
â”‚  âš™ï¸  DuraciÃ³n estimada por partido: [30] minutos        â”‚
â”‚  âš™ï¸  Tiempo entre partidos: [15] minutos                â”‚
â”‚                                                          â”‚
â”‚  [Guardar ConfiguraciÃ³n]                                â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Componentes Frontend a Crear

### **1. TableCard.tsx**
```typescript
// Muestra una mesa con su estado y color
- Estado visual (color)
- NÃºmero de mesa
- Progreso de serie
- Partidos completados/totales
- BotÃ³n "Ver Detalles"
```

### **2. TableStatusGrid.tsx**
```typescript
// Grid de todas las mesas
- PaginaciÃ³n
- Filtros por estado
- BÃºsqueda
- Cards de mesas
```

### **3. RefereeTablePanel.tsx**
```typescript
// Panel del Ã¡rbitro
- Lista de mesas del evento
- BotÃ³n "Bloquear/Desbloquear"
- Lista de partidos asignados
- Detalles de mesa seleccionada
```

### **4. AdminDashboard.tsx**
```typescript
// Dashboard de administrador
- EstadÃ­sticas generales
- Grid de mesas
- Alertas y notificaciones
- Accesos rÃ¡pidos
```

### **5. UnfoldingSuggestions.tsx**
```typescript
// Sugerencias de desdoblamiento
- Lista de mesas atrasadas
- Mesas disponibles para ayudar
- Tiempo estimado ahorrado
- BotÃ³n "Aplicar Desdoblamiento"
```

---

## ğŸš€ PrÃ³ximos Pasos de ImplementaciÃ³n

1. âœ… **Crear entidades nuevas** (EventReferee, TableLock, EventSettings)
2. âœ… **Implementar servicios** (EventAccess, TableLock, TableStatus, Unfolding)
3. âœ… **Crear endpoints** (Admin, Referee actualizado)
4. âœ… **Frontend: Panel de Mesas** (Grid con colores)
5. âœ… **Frontend: Panel de Ãrbitro** (Bloqueo, partidos)
6. âœ… **Frontend: Panel de Admin** (GestiÃ³n completa)

Â¿Empezamos con la implementaciÃ³n?

